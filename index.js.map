{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '48273620-0132f44a126025621a132d295';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchImages = async query => {\n  const response = await fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`\n  );\n  if (!response.ok) {\n    throw new Error(`Error: ${response.status}`);\n  }\n  return response.json();\n};\n","export const renderGallery = (images, galleryEl) => {\n  const markup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-card\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n        </a>\n          <p>Likes: ${likes}</p>\n          <p>Views: ${views}</p>\n          <p>Comments: ${comments}</p>\n          <p>Downloads: ${downloads}</p>\n      </li>`\n    )\n    .join('');\n  galleryEl.innerHTML = markup;\n};\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery } from './js/render-functions.js';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox('.js-gallery a');\n\nconst showLoader = () => (loaderEl.style.display = 'block');\nconst hideLoader = () => (loaderEl.style.display = 'none');\n\nconst onSearchFormSubmit = async event => {\n  event.preventDefault();\n  galleryEl.innerHTML = ''; \n  const query = event.currentTarget.elements.user_query.value.trim();\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n\n  showLoader();\n\n  try {\n    const data = await fetchImages(query);\n    if (data.hits.length === 0) {\n      iziToast.warning({\n        title: 'Attention',\n        message: 'No images found!',\n      });\n      return;\n    }\n    renderGallery(data.hits, galleryEl);\n    lightbox.refresh();\n  } catch (error) {\n    console.error(error);\n    iziToast.error({\n      title: 'Error',\n      message: 'Failed to fetch images!',\n    });\n  } finally {\n    hideLoader();\n  }\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["API_KEY","BASE_URL","fetchImages","query","response","renderGallery","images","galleryEl","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","loaderEl","lightbox","SimpleLightbox","showLoader","hideLoader","onSearchFormSubmit","event","iziToast","data","error"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAc,MAAMC,GAAS,CACxC,MAAMC,EAAW,MAAM,MACrB,GAAGH,CAAQ,QAAQD,CAAO,MAAMG,CAAK,0DACzC,EACE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,UAAUA,EAAS,MAAM,EAAE,EAE7C,OAAOA,EAAS,MAClB,ECXaC,EAAgB,CAACC,EAAQC,IAAc,CAClD,MAAMC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,mBAEOL,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA,sBAE1BC,CAAK;AAAA,sBACLC,CAAK;AAAA,yBACFC,CAAQ;AAAA,0BACPC,CAAS;AAAA,YAE9B,EACA,KAAK,EAAE,EACVR,EAAU,UAAYC,CACxB,ECjBMQ,EAAe,SAAS,cAAc,iBAAiB,EACvDT,EAAY,SAAS,cAAc,aAAa,EAChDU,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAW,IAAIC,EAAe,eAAe,EAE7CC,EAAa,IAAOH,EAAS,MAAM,QAAU,QAC7CI,EAAa,IAAOJ,EAAS,MAAM,QAAU,OAE7CK,EAAqB,MAAMC,GAAS,CACxCA,EAAM,eAAc,EACpBhB,EAAU,UAAY,GACtB,MAAMJ,EAAQoB,EAAM,cAAc,SAAS,WAAW,MAAM,OAC5D,GAAI,CAACpB,EAAO,CACVqB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDJ,IAEA,GAAI,CACF,MAAMK,EAAO,MAAMvB,EAAYC,CAAK,EACpC,GAAIsB,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,QAAQ,CACf,MAAO,YACP,QAAS,kBACjB,CAAO,EACD,MACD,CACDnB,EAAcoB,EAAK,KAAMlB,CAAS,EAClCW,EAAS,QAAO,CACjB,OAAQQ,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACf,CAAK,CACL,QAAY,CACRH,GACD,CACH,EAEAL,EAAa,iBAAiB,SAAUM,CAAkB"}